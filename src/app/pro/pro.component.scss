@use "sass:color";

// --- VARIABLES ---
$color-home: #e94560;
$color-guest: #4ecca3;
$bg-dark: #0b0c15;

:host { display: block; height: 100%; overflow: hidden; }
.pro-container { display: flex; flex-direction: column; height: 100%; }

// --- HEADER CON GRID ---
.top-bar {
  background: #000;
  display: grid;
  // GRID: Izquierda (Auto), Centro (Espacio libre), Derecha (Auto)
  // Pero usamos 1fr 1fr 1fr para asegurar que el centro sea el centro absoluto
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  height: 12vh; // Más altura para el reloj
  min-height: 70px;
  border-bottom: 2px solid #333;
  flex-shrink: 0;
  padding: 0 10px;

  // SECCIÓN IZQUIERDA (Periodo)
  .header-left {
    display: flex;
    justify-content: flex-start;
    align-items: center; // <--- ESTO centra el botón verticalmente con la Q
    gap: 15px;           // <--- ESTO los separa para que no se vean encimados

    .period-display {
      display: flex; align-items: center; gap: 4px; cursor: pointer;
      background: #222; padding: 5px 10px; border-radius: 6px; border: 1px solid #333;
      .label { font-size: 0.8rem; color: #888; font-weight: bold; }
      .number { font-size: 1.5rem; color: yellow; font-weight: bold; }
    }
    // Estilo específico para el botón de play en este lado
    .btn-icon {
      background: #333;
      border: none;
      color: white;
      font-size: 1.2rem;
      width: 40px; height: 40px;
      border-radius: 50%;
      cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      transition: all 0.2s;

      &:active { transform: scale(0.9); }
    }
  }

  // SECCIÓN CENTRO (Reloj)
  .header-center {
    display: flex;
    justify-content: center;

    .timer-display {
      font-family: 'Courier New', monospace;
      font-size: 3.5rem; // ¡GIGANTE!
      font-weight: bold;
      color: red;
      line-height: 1;
      cursor: pointer;
      text-shadow: 0 0 10px rgba(255, 0, 0, 0.3);
      &.active { color: #0f0; text-shadow: 0 0 10px rgba(0, 255, 0, 0.3); }
    }
  }

  // SECCIÓN DERECHA (Botones)
  .header-right {
    display: flex;
    justify-content: flex-end;
    gap: 8px;

    .btn-icon {
      background: #333;
      border: none;
      color: white;
      font-size: 1.2rem;
      width: 40px; height: 40px;
      border-radius: 50%;
      cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      transition: all 0.2s;

      &.reset { background: #334; color: #aae; }
      &.clean { background: #443311; color: #ffcc00; } // Escoba amarilla
      &.delete { background: #4e1a1a; color: #ff6b6b; } // Basura roja

      &:active { transform: scale(0.9); }
    }
  }
}

// --- BANNER DE MARCADOR ---
.score-board-banner {
  display: flex; background: #111; padding: 5px; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; flex-shrink: 0;
  .team-banner {
    display: flex; flex-direction: column; align-items: center; width: 45%;
    .t-name-input { background: transparent; border: none; border-bottom: 1px solid rgba(255,255,255,0.1); color: #aaa; font-size: 0.9rem; text-align: center; width: 100%; font-weight: bold; text-transform: uppercase; padding: 2px; &:focus { border-color: white; color: white; outline: none; } }
    .t-score { font-size: 2rem; font-weight: 800; line-height: 1; margin-top: 5px; }
    &.home .t-score { color: $color-home; text-shadow: 0 0 10px rgba($color-home, 0.3); }
    &.guest .t-score { color: $color-guest; text-shadow: 0 0 10px rgba($color-guest, 0.3); }
  }
  .vs { font-weight: bold; color: #333; font-style: italic; font-size: 0.8rem; }
}

// --- ÁREA DE JUGADORES ---
.players-area { flex: 1; display: flex; overflow: hidden; background: #050508; }
.team-list { flex: 1; display: flex; flex-direction: column; padding: 0; &.home-list { border-right: 1px solid #222; } }

.add-btn {
  width: 100%; padding: 12px; border: none; font-weight: 900; font-size: 0.8rem; cursor: pointer; color: white; text-transform: uppercase; letter-spacing: 1px;
  &.home { background: linear-gradient(90deg, #2a0a10 0%, color.change($color-home, $alpha: 0.3) 100%); border-bottom: 2px solid $color-home; }
  &.guest { background: linear-gradient(90deg, color.change($color-guest, $alpha: 0.3) 0%, #0a2a20 100%); border-bottom: 2px solid $color-guest; }
  &:active { filter: brightness(1.3); }
}

.players-scroll { flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 6px; padding: 5px; }

// --- TARJETAS ---
.player-card {
  display: flex; align-items: center; justify-content: space-between;
  padding: 8px 4px; border-radius: 6px; background: #14141f; box-shadow: 0 2px 5px rgba(0,0,0,0.3);
  border-left: 3px solid transparent; transition: transform 0.1s;
  &.home-card { border-left-color: $color-home; }
  &.guest-card { border-right: 3px solid $color-guest; border-left: none; }
  .card-left, .card-right { display: flex; flex-direction: column; align-items: center; justify-content: center; min-width: 35px; }

  .p-jersey {
    font-size: 1rem; font-weight: 900; width: 32px; height: 32px;
    display: flex; align-items: center; justify-content: center;
    border-radius: 50%; border: 2px solid #444; background: #222; color: white; cursor: pointer; // Cursor pointer para indicar click
    .home-card & { border-color: $color-home; color: color.scale($color-home, $lightness: 20%); }
    .guest-card & { border-color: $color-guest; color: color.scale($color-guest, $lightness: 20%); }
    &:active { transform: scale(0.9); }
  }

  .card-center {
    flex: 1; padding: 0 4px; display: flex; justify-content: center;
    .btn-group {
      display: flex; gap: 3px; width: 100%;
      .btn-act {
        border: none; background: #2a2a3e; color: white; font-weight: bold;
        padding: 10px 0; border-radius: 4px; font-size: 0.85rem; cursor: pointer; box-shadow: 0 1px 2px rgba(0,0,0,0.2);
        flex: 1; text-align: center;
        &:active { transform: translateY(2px); background: #444; }
        &.undo { background: #321; color: #f88; opacity: 0.8; font-size: 0.75rem; }
      }
    }
  }
  .p-total { font-size: 1.5rem; font-weight: 800; color: white; line-height: 1; }
  .pts-label { font-size: 0.5rem; color: #666; font-weight: bold; letter-spacing: 1px; }
}

// --- MODAL & DELETE BUTTON ---
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); backdrop-filter: blur(5px); z-index: 999; display: flex; align-items: flex-end; justify-content: center; }
.keypad-container { background: #1a1a2e; width: 100%; max-width: 500px; padding: 20px; border-top-left-radius: 20px; border-top-right-radius: 20px; box-shadow: 0 -5px 20px rgba(0,0,0,0.5); animation: slideUp 0.3s ease-out; &.home-theme { border-top: 4px solid $color-home; } &.guest-theme { border-top: 4px solid $color-guest; } }
@keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
.keypad-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; h3 { margin: 0; color: white; font-size: 1rem; } .close-btn { background: none; border: none; color: #666; font-size: 1.5rem; cursor: pointer; } }
.keypad-display { background: #000; color: white; font-size: 3rem; font-family: monospace; text-align: center; padding: 10px; margin-bottom: 20px; border-radius: 10px; border: 1px solid #333; letter-spacing: 5px; min-height: 80px; }
.keypad-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; button { background: #2a2a3e; border: none; color: white; font-size: 1.5rem; padding: 15px; border-radius: 10px; cursor: pointer; transition: background 0.1s; &:active { background: #444; } &.action-btn { font-weight: bold; &.back { background: #4e1a1a; color: #ff8888; } &.enter { background: #1a4e1a; color: #88ff88; font-size: 2rem; } } } }

.delete-section {
  margin-top: 15px; border-top: 1px solid #333; padding-top: 15px; display: flex; justify-content: center;
  .btn-delete-player { background: #4e1a1a; color: #ff8888; border: 1px solid #ff4444; padding: 12px 20px; width: 100%; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 0.9rem; display: flex; align-items: center; justify-content: center; gap: 10px; text-transform: uppercase; transition: all 0.2s; &:active { background: #772222; transform: scale(0.98); } }
}

// --- MEDIA QUERIES (Celular) ---
@media (max-width: 480px) {
  // Ajuste de Grid en celular
  .top-bar {
    height: 10vh;
    padding: 0 5px;
    .header-center .timer-display { font-size: 2.5rem; } // Un poco menos gigante en cel
    .header-right { gap: 4px; .btn-icon { width: 32px; height: 32px; font-size: 1rem; } }
  }

  .player-card {
    padding: 6px 2px;
    .p-jersey { width: 25px; height: 25px; font-size: 0.8rem; border-width: 1px; }
    .p-total { font-size: 1.2rem; }
    .card-center {
      padding: 0 2px;
      .btn-group { gap: 2px; .btn-act { font-size: 0.75rem; padding: 8px 0; border-radius: 3px; } }
    }
  }
  .add-btn { padding: 8px; font-size: 0.7rem; }
}
